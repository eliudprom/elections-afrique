<!DOCTYPE html>
<html>
<head>
  <title>Africa Elections Calendar(Map)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.4/jquery-jvectormap.css" type="text/css" media="screen"/>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
  <script src="js/jquery.jvectormap.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.4/jquery-jvectormap.js"></script>
  <script src="js/africa-map.js"></script>
</head>
<body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <a href="#" class="navbar-brand"><i class="glyphicon glyphicon-bullhorn"></i> Africa Elections Calendar(Map)</a>
    </div>
  </nav>
  <div id="Africa_map" class="container">
    <div id="control_panel" class="col-sm-2">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3>Elections</h3>
        </div>
        <div class="panel-body">
          <div class="form-group" style="list-style: none;">
            <li><a href="index.html" class="btn btn-primary">Home</a></li>
            <li><a href="index.html?year=2017">2017</a></li>
            <li><a href="index.html?year=2018">2018</a></li>
            <li><a href="index.html?year=2019">Later</a></li>
          </select>
        </div>
        </div>
      </div>
    </div>
    <div id="africa-map" class="col-sm-10" style="height: 400px;">
      
    </div>
  </div>
  <script>
    $(function(){

      var year2017 = 
        [
          {
            latLng: [-1.95, 30.05], //Rwanda
            name: 'Presidential August 4th, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [-8.833333333, 13.216667], //Angola
            name: 'General election: most likely August 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [12.1, 15.033333], //Chad
            name: 'Parliamentary election, unknown date, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [0.383333333, 9.45], //Gabon
            name: 'Parliamentary elections July 29th, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [-1.283333333, 36.816667], //Kenya
            name: 'General elections August 8th, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [2.066666667, 45.333333 ], //Somalia
            name: 'General election scheduled for March 27, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [6.3, -10.8], //Liberia
            name: 'general and parliamentary election, October 10th, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [8.483333333, -13.233333], //Sierra Leone
            name: 'general election 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [13.45, -16.566667], //Gambia
            name: 'legislative, planned for April 6th or April 12th, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [14.73333333, -17.633333], //Senegal
            name: 'legislative; July 2nd, 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [-26.31666667, 31.133333], //Swaziland
            name: 'most likely September 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [-18.91666667, 47.516667], //Madagascar
            name: 'legislative, possibly December 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [36.8, 10.183333], //Tunisia
            name: 'municipal and regional elections, probably October 2017',
            style: {r: 8, fill: 'green'}
          },
          {
            latLng: [36.75, 3.05], //Algeria
            name: 'legislative elections, either April or May 2017',
            style: {r: 8, fill: 'green'}
          },
        ];

        //Elections in 2018 and Beyond
        var year2018 = 
        [
          {
            latLng: [-4.316666667, 15.3], //DRC
            name: 'presidential: 2020. parliamentary: probably 2018',
            style: {r: 6, fill: 'yellow'}
          },
          {
            latLng: [12.65, -8], //Mali
            name: 'presidential and legislative planned for 2018',
            style: {r: 6, fill: 'yellow'}
          },
          {
            latLng: [6.116666667, 1.216667], //Togo
            name: 'presidential: 2020. parliamentary: probably 2018',
            style: {r: 6, fill: 'yellow'}
          },
        ];

        //Elections in 2019 and beyond.
        var electionsLater = 
        [
          {
            latLng: [-3.366666667, 29.35], //Burundi
            name: ' No elections anytime soon',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [15.33333333, 38.933333], //Eritrea
            name: 'No elections anytime soon',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [9.033333333, 38.7], //Ethiopia
            name: 'Elections in summer (probably June) of 2020',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [6.4833333332, 616667], //Benin
            name: 'most likely March 2021',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [14.91666667, -23.516667], //Cape verde
            name: 'most likely 2021',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [5.55, -0.216667], //Ghana
            name: 'just had elections in 2016, next one in December 2020',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [9.083333333, 7.533333], //Nigeria
            name: 'most likely February 2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-25.7, 28.216667], //South Africa
            name: 'general elections 2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-13.96666667, 33.783333], //Malawi
            name: '2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-17.81666667, 31.033333], //Zimbabwe
            name: 'no elections planned at the moment (dictatorship)',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-25.95, 32.583333], //Mozambique
            name: '2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-22.56666667, 17.083333], //Namibia
            name: '2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-24.63333333, 25.9], //Botswana
            name: '2019',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [-29.31666667, 27.483333], //Lesotho
            name: '2020',
            style: {r: 5, fill: 'orange'}
          },
          {
            latLng: [32.88333333, 13.166667], //Libye
            name: 'no elections planned',
            style: {r: 5, fill: 'orange'}
          },
        ];
      $.urlParam = function(name){
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results==null){
           return null;
        }
        else{
           return results[1] || 0;
        }
      }

      function setMarker(year) {
        if ($.urlParam('year') == 2017)
          return year2017;
        else if ($.urlParam('year') == 2018)
          return year2018;
        else if ($.urlParam('year') == 2019)
          return electionsLater;

        return year2018.concat(year2017.concat(electionsLater));
      }

      var marker = setMarker(2017);

      var map = new jvm.Map({
        container: $('#africa-map'),
        map: 'africa_mill',
        backgroundColor : ['#50CC82'],
        normalizeFunction: 'polynomial',
        hoverOpacity: 0.7,
        hoverColor: false,
        markerStyle: {
          initial: {
            fill: '#000',
            stroke: '#383f47'
          }
        },
        backgroundColor: '#383f47',
        markers : marker
    });
  });
  </script>
    <center><i>Developed by <a href="http://github.com/bl3z3">Bl3z3</a></i></center>
</body>
</html>
